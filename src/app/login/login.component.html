<app-progress-bar *ngIf="loading"></app-progress-bar>
<div class="login-wrapper" fxLayout="row" fxLayoutAlign="center center">
  <div fxFlex="35" class="right" fxLayoutAlign="center center">
    <mat-card class="box">
      <div fxLayout="column" fxLayoutGap="10px" class="header m-bottom-25">
        <span class="title">FeedN<span class="color-brown">o</span>te</span>
        <span class="caption">Ứng dụng theo dõi, tính toán khẩu phần ăn cho đàn gia súc</span>
      </div>
      <form class="login-form" [formGroup]="loginForm" (ngSubmit)="submit()">
        <div
          *ngIf="loginError && !f.username.dirty && !f.password.dirty"
          class="text-error"
        >
          Thông tin tài khoản không hợp lệ.
        </div>
        <mat-form-field
          class="login-full-width"
          appearance="outline"
          floatLabel="never"
        >
          <mat-label>Tên tài khoản</mat-label>
          <input
            matInput
            type="text"
            formControlName="username"
            autocomplete="username"
          />

          <mat-error *ngIf="f.username.errors?.required"
            >Tên tài khoản không được trống.</mat-error
          >
          <mat-error *ngIf="f.username.errors?.minlength"
            >Tên tài khoản phải có ít nhất 3 ký tự.</mat-error
          >
        </mat-form-field>

        <mat-form-field
          class="login-full-width"
          appearance="outline"
          floatLabel="never"
        >
          <mat-label>Mật khẩu</mat-label>
          <input
            matInput
            [type]="showPassword ? 'text' : 'password'"
            autocomplete="current-password"
            formControlName="password"
          />
          <!-- <mat-icon
            matSuffix
            [matTooltip]="showPassword ? 'Ẩn mật khẩu' : 'Hiện mật khẩu'"
            class="material-icons-outlined app-icon"
            style="cursor: pointer"
            (click)="showPassword = !showPassword"
            >{{ showPassword ? "visibility_off" : "visibility" }}</mat-icon
          > -->

          <mat-error *ngIf="f.password.errors?.required"
            >Mật khẩu không được trống.</mat-error
          >
          <mat-error *ngIf="f.password.errors?.minlength"
            >Mật khẩu phải có ít nhất 3 ký tự.</mat-error
          >
        </mat-form-field>

        <!-- <app-button
          [disabledCondition]="submitted"
          [customClasses]="['app-button-brown']"
          [buttonContent]="'Đăng nhập'"
          [buttonType]="'submit'"
        ></app-button> -->
        <button
          mat-flat-button
          [disabled]="submitted"
          class="btn-login app-button app-button-brown"
          type="submit"
        >
          Đăng nhập
        </button>
      </form>
    </mat-card>
  </div>
</div>

<app-loading *ngIf="loading"></app-loading>
<div *ngIf="!loading">
  <div
    flexLayout="row"
    fxLayoutAlign="space-between center"
    class="m-bottom-15"
    mat-dialog-title
  >
    <h2>Chi tiết nhật ký cho ăn</h2>
    <app-button-icon
      [iconName]="'close'"
      matTooltip="Đóng"
      (click)="onClose()"
    ></app-button-icon>
  </div>
  <div mat-dialog-content class="dialog-content">
    <div flexLayout="row" fxLayoutAlign="center" class="m-bottom-15">
      <div fxFlex="30" class="font-weight-bold">Hộ nông dân</div>
      <div fxFlex style="text-transform: capitalize">
        {{ feedingDiary.breederName }}
      </div>
    </div>
    <div flexLayout="row" fxLayoutAlign="center" class="m-bottom-15">
      <div fxFlex="30" class="font-weight-bold">Thời gian</div>
      <div fxFlex>{{ transformDate(feedingDiary.createdAt) }}</div>
    </div>

    <div class="feeding-diary border rounded">
      <div flexLayout="row" fxLayoutAlign="center center" class="header">
        <span class="font-weight-bold">Danh sách thức ăn đã cho ăn</span>
      </div>
      <div
        flexLayout="row"
        fxLayoutAlign="center center"
        class="content p-bottom-10"
      >
        <table
          fxFlex="95"
          mat-table
          [dataSource]="feedingDiary.foods ? feedingDiary.foods : []"
        >
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>STT</th>
            <td mat-cell *matCellDef="let element; let i = index">
              {{ i + 1 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Tên</th>
            <td mat-cell *matCellDef="let element">
              {{ element.name }}
            </td>
          </ng-container>

          <ng-container matColumnDef="amount">
            <th mat-header-cell *matHeaderCellDef>Số lượng</th>
            <td mat-cell *matCellDef="let element">
              {{ element.amount + " " + element.unit }}
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr
            mat-row
            *matRowDef="let element; columns: displayedColumns"
            style="cursor: pointer"
            class="app-element-row"
          ></tr>
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">Chưa có dữ liệu</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
